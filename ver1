import random
import math

# TODO: file ismi degistirebilme secebilme txt dosyasi   DONE
# TODO: delete users from txt                            DONE
# TODO: can read all txt / print txt                     DONE
# TODO: Use w+ mode                                      DONE
# TODO: toplam rank puani ile eslsme
# TODO: rastgele eslesme                                 DONE
# TODO: Autofill
# TODO: Rank Siralama
# TODO: takim eslesmeleri


menu = """
Bilkent LoL E-Sport Team Finder by Can

Command List:
-Type 'menu' to bring this command menu.
-Type 'txt' to change/create the text file. Only enter the name of the file, 
not the (.) extension. Ex: not 'players.txt' --> 'players'

-Type 'see' to see raw text file for all player roles/names.
-Type 'number' to see numbered version of text file for all player roles/names.

-Type 'add' to enter additional players to the player list. Type the player roles and names. --> Ex: 'ADC Can'
-Type 'stop' to exit from player inputting.
-Type 'del' to delete players using the 'number' command and typing their player number.

-Type 'start' to create teams.

-Type 'quit' to exit from program.
"""


def numbered_print(file):
    result = ""
    file_handler = open(file, "r")
    for el, start_num in enumerate(file_handler.readlines(), 1):
        start_num = start_num.strip()

        result += "{} {}\n".format(el, start_num)
    player_data.close()

    return result


print(menu)

default = input("Enter text file name to begin!(Ex: 'players'): ")
full_default = str(default) + ".txt"
full_file_name = full_default
file_output = "'{}' will be created/opened and used.".format(full_file_name)
print(file_output)
print('')

inp = input('Enter Command: ')

while inp.lower() != 'quit':

    top = []
    jg = []
    mid = []
    adc = []
    sup = []

    if inp.lower() == 'txt':
        file_name = input("Use another text file!(Ex: 'tourney2'): ")
        full_file_name = str(file_name) + ".txt"
        file_output = "'{}' will be created/opened and used.".format(full_file_name)
        print(file_output)
        print('')

    # Create TXT File with new name if there is none
    # player_data = open(full_file_name, "w+")
    # player_data.close()

    try:
        player_data = open(full_file_name, "r")
        player_data.close()
    except FileNotFoundError:
        player_data = open(full_file_name, "w")
        player_data.close()

    # Check if file is empty
    player_data = open(full_file_name, "r")
    content = player_data.readline()
    if content == "":
        no_content = True
    else:
        no_content = False
    player_data.close()

    # Make Sure TXT ends with \n in an old file
    if not no_content:
        new_line = False
        player_data = open(full_file_name, "r")
        last_line = (list(player_data)[-1])

        if last_line[-1:] == '\n':
            new_line = True
        else:
            new_line = False

